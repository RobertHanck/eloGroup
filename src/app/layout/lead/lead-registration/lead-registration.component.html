<form [formGroup]="formGroup" (ngSubmit)="save()">
  <div class="mt10" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px">
    <mat-form-field [fxFlex]="50">
      <input
        matInput
        placeholder="Nome"
        formControlName="customerName"
        [(ngModel)]="lead.customerName"
        maxlength="120"
        required
      />
      <mat-error *ngIf="formGroup.controls.customerName.invalid">Campo obrigatório</mat-error>
    </mat-form-field>
  </div>

  <div class="mt10" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px">
    <mat-form-field [fxFlex]="50">
      <input
        matInput
        placeholder="Telefone"
        formControlName="customerPhone"
        [(ngModel)]="lead.customerPhone"
        maxlength="12"
        required
      />
      <mat-error *ngIf="formGroup.controls.customerPhone.invalid">Campo obrigatório</mat-error>
    </mat-form-field>
  </div>

  <div class="mt10" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px">
    <mat-form-field [fxFlex]="50">
      <input
        matInput
        placeholder="Email"
        formControlName="customerEmail"
        [(ngModel)]="lead.customerEmail"
        maxlength="120"
        required
      />
      <mat-error *ngIf="formGroup.controls.customerEmail.invalid">Campo obrigatório</mat-error>
    </mat-form-field>
  </div>
  <div>
    <fieldset>
      <legend>Oportunidades *</legend>
      <table>
          <thead>
            <tr class="table-active">
              <th scope="col">
                  <input type="checkbox" class="check_master" [checked]="checkAllOpportunities.isSelected == true" (click)="checkAll(!checkAllOpportunities.isSelected)">
              </th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
              <tr *ngFor="let opportunities of checkOpportunities">
                  <td>
                      <input type="checkbox" id="opportunities.id" name="item.name" class="check" [checked]="opportunities.isSelected == true" (click)="checkCheck(opportunities, !opportunities.isSelected)" formControlName="customerOpportunities" required>
                  </td>
                  <td>{{opportunities.description}}</td>
              </tr>
          </tbody>
      </table>
    </fieldset>
    
  </div>

  <div class="footer-buttons">
    <button mat-flat-button color="primary">
      <mat-icon>save</mat-icon>
      Salvar
    </button>
    <button mat-flat-button type="button" routerLink="/leads">
      <mat-icon>close</mat-icon>
      Cancelar
    </button>
  </div>
</form>
